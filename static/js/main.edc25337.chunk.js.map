{"version":3,"sources":["components/ImageGaleryitem/ImageGaleryitem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalery/ImageGalery.module.css","components/Searchbar/Searchbar.js","components/ImageGaleryitem/ImageGaleryitem.js","components/api/Pixaby.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGalery/ImageGalery.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","getSearchValue","useState","searchValue","setSearchValue","className","s","SearchForm","onSubmit","e","preventDefault","trim","alert","type","SearchFormButton","SearchFormButtonLabel","name","value","SearchFormInput","placeholder","onChange","target","ImageGaleryitem","searchResult","onImgClick","map","el","ImageGalleryItem","src","webformatURL","alt","ImageGalleryItemImage","onClick","id","PixabyFetch","this","_searchQuery","_page","a","url","searchQuery","page","axios","get","result","data","hits","Button","props","ButtonClass","handleClick","Modal","modalImg","onClose","useEffect","console","log","window","addEventListener","handleKeyDown","removeEventListener","code","Overlay","currentTarget","newPixabyFetch","ImageGalery","pageScroll","setSearchResult","status","setStatus","showModal","setShowModal","setModalImg","resetPage","searchPhotos","then","length","catch","err","toggleModal","prev","init","loader","color","height","width","ImageGallery","find","largeImageURL","error","App","scrollTo","top","document","documentElement","scrollHeight","behavior","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.edc25337.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGaleryitem_ImageGalleryItem__1akCg\",\"ImageGalleryItemImage\":\"ImageGaleryitem_ImageGalleryItemImage__PwfCJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3VEyi\",\"Modal\":\"Modal_Modal__3A-3Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonClass\":\"Button_ButtonClass__2bsTR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__ButAD\",\"SearchForm\":\"Searchbar_SearchForm__1TGhn\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1ufL2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3FUce\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2g3T-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalery_ImageGallery__2PqA3\",\"loader\":\"ImageGalery_loader__3Dt5M\",\"init\":\"ImageGalery_init__2iuBw\",\"error\":\"ImageGalery_error__35Cll\"};","import { useState } from \"react\"\r\nimport s from \"./Searchbar.module.css\"\r\n\r\nexport function Searchbar({getSearchValue}) {\r\n  const [searchValue, setSearchValue] = useState('')\r\n  \r\n  const  handleChenge = (e) => {\r\n      setSearchValue(e.target.value)\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (searchValue.trim() === '') {\r\n     return alert('nothing to search!')\r\n    }\r\n    getSearchValue(searchValue)\r\n    setSearchValue('')\r\n   }\r\n\r\n    return (\r\n      <header className={s.Searchbar} >\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n          name= 'searchValue'\r\n          value={searchValue}\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChenge}\r\n        />\r\n        </form>\r\n      </header>\r\n    )\r\n  }\r\n","import s from './ImageGaleryitem.module.css'\r\n\r\nexport function ImageGaleryitem({ searchResult, onImgClick }) {\r\n    return (\r\n        <>\r\n            {searchResult.map(el => {\r\n                return (\r\n                    <li key={el.id} className={s.ImageGalleryItem} >\r\n                        <img src={el.webformatURL} alt='' className={s.ImageGalleryItemImage} onClick={onImgClick} />\r\n                    </li>\r\n                )\r\n            }\r\n            )\r\n            }\r\n        </>\r\n    )\r\n}","import axios from 'axios'\r\n\r\n\r\nexport class PixabyFetch {\r\n    constructor() {\r\n        this._searchQuery = '';\r\n        this._page = 1\r\n    }\r\n\r\n    get searchQuery() {\r\n    return this._searchQuery;\r\n    }\r\n    set searchQuery(value) {\r\n        return this._searchQuery = value\r\n    }\r\n\r\n    get page() {\r\n    return this._page;\r\n    }\r\n    set page(value) {\r\n        return this._page += value\r\n    }\r\n    resetPage() {\r\n        return (this._page = 1)\r\n    }\r\n    async searchPhotos() {\r\n\r\n        let url = `https://pixabay.com/api/?key=23260269-a14f68c41e91863ff9df952e6&q=${this.searchQuery}&page=${this.page}&per_page=12`\r\n        try{\r\n        const result =  await axios.get(url)\r\n        const data = result.data.hits\r\n        return data\r\n        } catch (error) {\r\n            return error\r\n        }\r\n    }\r\n}","import s from './Button.module.css'\r\n\r\nexport function Button(props) {\r\n    return (\r\n        <button className={s.ButtonClass} type='button' onClick={props.handleClick} >Load More</button>\r\n    )\r\n}","import { useEffect } from 'react'\r\nimport s from './Modal.module.css'\r\n\r\nexport function Modal({modalImg,onClose}) {\r\n    useEffect(() => {\r\n        console.log('modal mount!')\r\n        window.addEventListener('keydown', handleKeyDown)\r\n    return (() => {\r\n        console.log('modal UnMount')\r\n         window.removeEventListener('keydown', handleKeyDown)   \r\n        })\r\n    }, [])\r\n\r\n\r\nconst handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n        onClose()\r\n        }\r\n    }\r\nconst backdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n        onClose()\r\n    }\r\n}\r\n    \r\n      return (\r\n          <div className={s.Overlay} onClick={backdropClick }>\r\n        <div className={s.Modal}>\r\n            <img src={modalImg} alt=\"modalImg\" />\r\n         </div>\r\n    </div>\r\n    )  \r\n    \r\n    \r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { ImageGaleryitem } from \"../ImageGaleryitem/ImageGaleryitem\";\r\nimport { PixabyFetch } from '../api/Pixaby';\r\nimport { Button } from \"../Button/Button\";\r\nimport s from './ImageGalery.module.css'\r\nimport Loader from \"react-loader-spinner\";\r\nimport {Modal} from \"../Modal/Modal.js\"\r\n\r\n\r\nconst newPixabyFetch = new PixabyFetch()\r\n// console.log(newPixabyFetch)\r\nexport function ImageGalery({ searchValue, pageScroll }) {\r\n  \r\n  const [searchResult, setSearchResult] = useState([])\r\n  const [status, setStatus] = useState('init')\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [modalImg, setModalImg] = useState('')\r\n  \r\n  useEffect(() => {\r\n    if (searchValue === '') {\r\n      return\r\n    }\r\n    console.log('fetch!!')\r\n    setStatus('loading')\r\n    newPixabyFetch.resetPage()\r\n    newPixabyFetch.searchQuery = searchValue\r\n    // console.log(newPixabyFetch.searchQuery = this.props.searchValue)\r\n    newPixabyFetch  \r\n      .searchPhotos()\r\n      .then(result => {\r\n        if (result.length > 0) {\r\n          setSearchResult(result)\r\n          setStatus('success')\r\n        }\r\n        // console.log('then result',result) \r\n        \r\n        else {\r\n          setStatus('error')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log('catch result',err);\r\n        setStatus('error');\r\n      });\r\n      \r\n        \r\n  },[searchValue])\r\n\r\n  \r\n  const handleClick = (e) => {\r\n    newPixabyFetch.page = 1\r\n    newPixabyFetch\r\n      .searchPhotos()\r\n      .then(result => {\r\n        setSearchResult((prev) => [...prev, ...result])\r\n        pageScroll()\r\n      })\r\n      \r\n      .catch(err => {\r\n        // console.log(err)\r\n        setStatus('error');\r\n      });\r\n    \r\n  }\r\n  const toggleModal = () => {\r\n    setShowModal(prev => !prev)\r\n  }\r\n  \r\n  const onImgClick = (e) => {\r\n    console.log(e.target)\r\n    setModalImg(searchResult.find(el => el.webformatURL === e.target.src).largeImageURL)\r\n    toggleModal()\r\n  }\r\n\r\n  return (<>\r\n    {status === 'init' && <p className={s.init}>Enter your query</p>}\r\n\r\n    {status === 'loading' && <div className={s.loader}>\r\n      <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\r\n    </div>}\r\n     \r\n    {status === 'success' && <>\r\n      <ul className={s.ImageGallery}>\r\n        <ImageGaleryitem searchResult={searchResult} onImgClick={onImgClick} />\r\n      </ul>\r\n      <Button handleClick={handleClick} />\r\n      {showModal && <Modal modalImg={modalImg} onClose={toggleModal} />}\r\n    </>}\r\n      \r\n    {status === 'error' && <p className={s.error}>Something is wrong</p>}\r\n   \r\n  </>)\r\n}\r\n   \r\n      \r\n","import './App.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Searchbar } from \"./components/Searchbar/Searchbar\"\nimport { ImageGalery } from './components/ImageGalery/ImageGalery';\nimport { useState } from 'react';\n\n\nexport default function App () {\n\n  const [serchedImg, setSerchedImg] = useState(null)\n  const [searchValue, setSearchValue] = useState('')\n\n  const getSearchValue = (value) =>{\n    setSearchValue(value)\n  }\n  const pageScroll = () => {\n  window.scrollTo({\n  top: document.documentElement.scrollHeight,\n  behavior: 'smooth',\n});\n  }\n  \n    return (\n      <div className=\"App\">\n        <Searchbar getSearchValue={getSearchValue}/>\n        <ImageGalery searchValue={searchValue} pageScroll={pageScroll}/>\n      </div>\n    );\n  }\n  \n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}